<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Server: Working server/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1928a10eb55accb2b9677f0abf9b66d8.html">Working server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>iocp-based server modified. Uses IoCompletionPorts to wait for multiple operations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;winsock2.h&gt;</code><br/>
<code>#include &lt;mswsock.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;cuda_runtime.h&gt;</code><br/>
<code>#include &lt;cutil.h&gt;</code><br/>
<code>#include &lt;cutil_inline.h&gt;</code><br/>
<code>#include &lt;conio.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="util_8h_source.html">util.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sock__util_8h_source.html">sock_util.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="w__iocp_8h_source.html">w_iocp.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconnection.html">connection</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a82ca26b9acdfaef98e1329d8f1b311ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a82ca26b9acdfaef98e1329d8f1b311ba">ECHO_LISTEN_PORT</a>&#160;&#160;&#160;42425</td></tr>
<tr class="memdesc:a82ca26b9acdfaef98e1329d8f1b311ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">The port the server is listening on.  <a href="#a82ca26b9acdfaef98e1329d8f1b311ba"></a><br/></td></tr>
<tr class="memitem:a72a591cf0a96cf23c63df5c78712dabe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a72a591cf0a96cf23c63df5c78712dabe">BUFSIZ</a>&#160;&#160;&#160;8192</td></tr>
<tr class="memdesc:a72a591cf0a96cf23c63df5c78712dabe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the recv/send buffer of the connection handler.  <a href="#a72a591cf0a96cf23c63df5c78712dabe"></a><br/></td></tr>
<tr class="memitem:ade9c2ba0795827c01f8bcb1fddbba4e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ade9c2ba0795827c01f8bcb1fddbba4e5">DECODED_SIZE</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ade9c2ba0795827c01f8bcb1fddbba4e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the recv/send buffer of the decoded message.  <a href="#ade9c2ba0795827c01f8bcb1fddbba4e5"></a><br/></td></tr>
<tr class="memitem:abb702d8b501669a23aa0ab3b281b9384"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#abb702d8b501669a23aa0ab3b281b9384">min</a>(x, y)&#160;&#160;&#160;(x &lt; y ? x : y)</td></tr>
<tr class="memdesc:abb702d8b501669a23aa0ab3b281b9384"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the minimum between two numbers.  <a href="#abb702d8b501669a23aa0ab3b281b9384"></a><br/></td></tr>
<tr class="memitem:a996f7be338ccb40d1a2a5abc1ad61759"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a996f7be338ccb40d1a2a5abc1ad61759">ABS</a>(x)&#160;&#160;&#160;(x &lt; 0 ? -x : x)</td></tr>
<tr class="memdesc:a996f7be338ccb40d1a2a5abc1ad61759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the absolute value of a number.  <a href="#a996f7be338ccb40d1a2a5abc1ad61759"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a48b066beacee87f6c0800742e3353379"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a48b066beacee87f6c0800742e3353379">connection_state</a> { <a class="el" href="main_8cpp.html#a48b066beacee87f6c0800742e3353379a9c21494c993ba18f08f6fb1d54f820ee">STATE_DATA_RECEIVED</a>, 
<a class="el" href="main_8cpp.html#a48b066beacee87f6c0800742e3353379aea80e1608cd2860ec6cbe492c3abcd80">STATE_DATA_SENT</a>, 
<a class="el" href="main_8cpp.html#a48b066beacee87f6c0800742e3353379a45bbc7eaa280da404e1a6aa07a96f8f8">STATE_CONNECTION_CLOSED</a>
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a13cf771088e21c9a3e8a3766788165c2"><td class="memItemLeft" align="right" valign="top">cudaError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a13cf771088e21c9a3e8a3766788165c2">launch_CubeStatic</a> (float *<a class="el" href="main_8cpp.html#a27787ddb39def3234fa0e613160c5314">BBstaticCenter_d</a>, int <a class="el" href="main_8cpp.html#a1872c12179c925ea716eb57fe43c70b7">nrBBstatic</a>, float *<a class="el" href="main_8cpp.html#a0c9843fd710ee61f42ee720d49d3a7ef">BBstaticSize_d</a>, float xFuture, float yFuture, float zFuture, float size1, float size2, int *<a class="el" href="main_8cpp.html#a805c179b07b5a66a9bd5665c8e09415a">okStatic</a>, dim3 DIM_GRID, dim3 DIM_BLOCK)</td></tr>
<tr class="memdesc:a13cf771088e21c9a3e8a3766788165c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functia de lansare a kernelului CUDA Performs collision tests between the connected client and all the static objects in the scene Each GPU thread tests a collision with only one static object.  <a href="#a13cf771088e21c9a3e8a3766788165c2"></a><br/></td></tr>
<tr class="memitem:ad50886c59a9e27fe46a2a6e694e91877"><td class="memItemLeft" align="right" valign="top">cudaError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ad50886c59a9e27fe46a2a6e694e91877">launch_CubeDinamic</a> (float *<a class="el" href="main_8cpp.html#af3414c28824530297cd259fd61e0ac4a">BBdinamicCenter_d</a>, int <a class="el" href="main_8cpp.html#a208769c154419d34bd0c2c35339d275f">nrBBdinamic</a>, float *<a class="el" href="main_8cpp.html#a7edc8a270c9d5f9023c46ef5f546b0e8">BBdinamicSize_d</a>, float xFuture, float yFuture, float zFuture, int <a class="el" href="main_8cpp.html#af180e926633cde08a05ccbc3af397ee4">ID</a>, int *<a class="el" href="main_8cpp.html#abab82ed8335782f87e260a501204e307">okDinamic</a>, dim3 DIM_GRID, dim3 DIM_BLOCK)</td></tr>
<tr class="memdesc:ad50886c59a9e27fe46a2a6e694e91877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functia de lansare a kernelului CUDA Performs collision tests between the connected client and all the other clients in the scene Each GPU thread tests a collision with only one client.  <a href="#ad50886c59a9e27fe46a2a6e694e91877"></a><br/></td></tr>
<tr class="memitem:af22ae12a25a7d9096508051b1af36150"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#af22ae12a25a7d9096508051b1af36150">decodeEncodeInfo</a> (char info[])</td></tr>
<tr class="memdesc:af22ae12a25a7d9096508051b1af36150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that decodes the information recceived and encodes the information after processing it.  <a href="#af22ae12a25a7d9096508051b1af36150"></a><br/></td></tr>
<tr class="memitem:a567b243836738c467bfb69ff3fdd92da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a567b243836738c467bfb69ff3fdd92da">CudaWork</a> (int <a class="el" href="main_8cpp.html#af180e926633cde08a05ccbc3af397ee4">ID</a>, int x, int y, int z)</td></tr>
<tr class="memitem:ac5e3f03d10ccfd50ba83bdef0e915f0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ac5e3f03d10ccfd50ba83bdef0e915f0c">WriteAtPoz</a> (char *filename, int poz, DWORD type, char *<a class="el" href="main_8cpp.html#a57875f7dc50e8d10d66a9dee808b1f25">buffer</a>)</td></tr>
<tr class="memitem:ac5c60521639732ce9e1364857524e8ad"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structconnection.html">connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ac5c60521639732ce9e1364857524e8ad">connection_create</a> (SOCKET <a class="el" href="main_8cpp.html#afc0d59c4f3d986132cc42a83b0e897d5">sockfd</a>)</td></tr>
<tr class="memitem:a02a4837b4efd1cddbea3a45bc45c221c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structconnection.html">connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a02a4837b4efd1cddbea3a45bc45c221c">connection_create_with_socket</a> (void)</td></tr>
<tr class="memitem:a470834860aeabd94b2b0564cd9755173"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a470834860aeabd94b2b0564cd9755173">connection_remove</a> (struct <a class="el" href="structconnection.html">connection</a> *conn)</td></tr>
<tr class="memitem:ac981b82a6e1b4f060a2decb07d1c17ef"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ac981b82a6e1b4f060a2decb07d1c17ef">connection_prepare_socket_send</a> (struct <a class="el" href="structconnection.html">connection</a> *conn)</td></tr>
<tr class="memitem:ada022cad04c196f32bcb9be8d90217fc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ada022cad04c196f32bcb9be8d90217fc">connection_schedule_socket_send</a> (struct <a class="el" href="structconnection.html">connection</a> *conn)</td></tr>
<tr class="memitem:a4f1e39342c8d79bc1751ba7880febd34"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a4f1e39342c8d79bc1751ba7880febd34">connection_schedule_socket_receive</a> (struct <a class="el" href="structconnection.html">connection</a> *conn)</td></tr>
<tr class="memitem:a780ca7d842caa74781b6d2b3fa2e2be6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a780ca7d842caa74781b6d2b3fa2e2be6">connection_complete_socket_send</a> (struct <a class="el" href="structconnection.html">connection</a> *conn, WSAOVERLAPPED *ovp)</td></tr>
<tr class="memitem:aa41280d998bca1f94440c99ab8acb17e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aa41280d998bca1f94440c99ab8acb17e">connection_complete_socket_receive</a> (struct <a class="el" href="structconnection.html">connection</a> *conn, WSAOVERLAPPED *ovp)</td></tr>
<tr class="memitem:aaad45eb6d41654c86627f93872861529"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aaad45eb6d41654c86627f93872861529">create_iocp_accept</a> (void)</td></tr>
<tr class="memitem:aa03b0fb0603fb5e723daf9576eaa56a9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aa03b0fb0603fb5e723daf9576eaa56a9">handle_new_connection</a> (OVERLAPPED *ovp)</td></tr>
<tr class="memitem:aaf7ed54b73ab24beab87c4d831594b52"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aaf7ed54b73ab24beab87c4d831594b52">handle_aio</a> (struct <a class="el" href="structconnection.html">connection</a> *conn, size_t bytes, OVERLAPPED *ovp)</td></tr>
<tr class="memitem:a2264a6e84745b4d0fee8144dd2b4e2b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a2264a6e84745b4d0fee8144dd2b4e2b6">ReadNrBB</a> (char *filename)</td></tr>
<tr class="memitem:ab4f672e20f7c10144c337ad3fc5c55a7"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ab4f672e20f7c10144c337ad3fc5c55a7">ReadBoundingBox</a> (char *filename, int nrBB)</td></tr>
<tr class="memitem:a40a6cc84768e58928af7df1d609326c4"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a40a6cc84768e58928af7df1d609326c4">CalculateSize</a> (float *BBArray, int nrBB)</td></tr>
<tr class="memitem:a329e62d44ff000cb77e74269b69015ed"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a329e62d44ff000cb77e74269b69015ed">CalculateCenter</a> (float *BBArray, int nrBB)</td></tr>
<tr class="memitem:a2cc9264099199398a5082a686b1a8437"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a2cc9264099199398a5082a686b1a8437">init</a> (char *filenameStatic, char *filenameDinamic)</td></tr>
<tr class="memitem:a4b66d5e31b5dc18b314c8a68163263bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a4b66d5e31b5dc18b314c8a68163263bd">cleanup</a> ()</td></tr>
<tr class="memitem:a3b360c7adecc62da0141b3c82e753c77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a3b360c7adecc62da0141b3c82e753c77">checkCUDAError</a> (const char *msg)</td></tr>
<tr class="memitem:a69f93d343959337ec8c2c78f61fe309f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a69f93d343959337ec8c2c78f61fe309f">initCUDA</a> (void)</td></tr>
<tr class="memitem:acf18d858e34f4b033c12823cf5f2f88a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#acf18d858e34f4b033c12823cf5f2f88a">printHeader</a> (char *s)</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad93cc257a935a42573e78abc54ee887b"><td class="memItemLeft" align="right" valign="top">static SOCKET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ad93cc257a935a42573e78abc54ee887b">listenfd</a></td></tr>
<tr class="memdesc:ad93cc257a935a42573e78abc54ee887b"><td class="mdescLeft">&#160;</td><td class="mdescRight">server socket file handle  <a href="#ad93cc257a935a42573e78abc54ee887b"></a><br/></td></tr>
<tr class="memitem:ab2627569a104169037eeca872d9e2588"><td class="memItemLeft" align="right" valign="top">static HANDLE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ab2627569a104169037eeca872d9e2588">iocp</a></td></tr>
<tr class="memdesc:ab2627569a104169037eeca872d9e2588"><td class="mdescLeft">&#160;</td><td class="mdescRight">IoCompletionPort handle.  <a href="#ab2627569a104169037eeca872d9e2588"></a><br/></td></tr>
<tr class="memitem:aa56ff3efbd9b9f100c1e98fd393981ba"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:ad3ab683db19f301c0bf2290f208a8c09"><td class="memItemLeft" >&#160;&#160;&#160;SOCKET&#160;&#160;&#160;<a class="el" href="main_8cpp.html#afc0d59c4f3d986132cc42a83b0e897d5">sockfd</a></td></tr>
<tr class="memitem:ab0c37b100099dc3311d7ab410379464f"><td class="memItemLeft" >&#160;&#160;&#160;char&#160;&#160;&#160;<a class="el" href="main_8cpp.html#a57875f7dc50e8d10d66a9dee808b1f25">buffer</a> [<a class="el" href="main_8cpp.html#a72a591cf0a96cf23c63df5c78712dabe">BUFSIZ</a>]</td></tr>
<tr class="memitem:ada0efe5f43a14d3d7145b9cdd2045454"><td class="memItemLeft" >&#160;&#160;&#160;DWORD&#160;&#160;&#160;<a class="el" href="main_8cpp.html#a6912002753b0f3e17bdedf65b10a7489">len</a></td></tr>
<tr class="memitem:a6a63122568da6b22c4b1f05f7f9834a7"><td class="memItemLeft" >&#160;&#160;&#160;OVERLAPPED&#160;&#160;&#160;<a class="el" href="main_8cpp.html#aaac82c9b2536dbcb6e6fd9e26cb552b7">ov</a></td></tr>
<tr class="memitem:aa56ff3efbd9b9f100c1e98fd393981ba"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aa56ff3efbd9b9f100c1e98fd393981ba">ac</a></td></tr>
<tr class="memitem:a6ad57ac048da75eecbd760ac00b8b427"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a6ad57ac048da75eecbd760ac00b8b427">TYPE</a></td></tr>
<tr class="memdesc:a6ad57ac048da75eecbd760ac00b8b427"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of movement : 0 - walk ,1 - teleport.  <a href="#a6ad57ac048da75eecbd760ac00b8b427"></a><br/></td></tr>
<tr class="memitem:af180e926633cde08a05ccbc3af397ee4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#af180e926633cde08a05ccbc3af397ee4">ID</a> = -1</td></tr>
<tr class="memdesc:af180e926633cde08a05ccbc3af397ee4"><td class="mdescLeft">&#160;</td><td class="mdescRight">client ID - Initially -1  <a href="#af180e926633cde08a05ccbc3af397ee4"></a><br/></td></tr>
<tr class="memitem:a2478165b3bf2fb0d7f5eacf8bef3965a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a2478165b3bf2fb0d7f5eacf8bef3965a">maxId</a> = 0</td></tr>
<tr class="memdesc:a2478165b3bf2fb0d7f5eacf8bef3965a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of connected clients.  <a href="#a2478165b3bf2fb0d7f5eacf8bef3965a"></a><br/></td></tr>
<tr class="memitem:a27787ddb39def3234fa0e613160c5314"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a27787ddb39def3234fa0e613160c5314">BBstaticCenter_d</a></td></tr>
<tr class="memdesc:a27787ddb39def3234fa0e613160c5314"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all the centers of the bounding boxes of the static objects, used on the GPU.  <a href="#a27787ddb39def3234fa0e613160c5314"></a><br/></td></tr>
<tr class="memitem:af3414c28824530297cd259fd61e0ac4a"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#af3414c28824530297cd259fd61e0ac4a">BBdinamicCenter_d</a></td></tr>
<tr class="memdesc:af3414c28824530297cd259fd61e0ac4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all the centers of the bounding boxes of the connected clients, used on the GPU.  <a href="#af3414c28824530297cd259fd61e0ac4a"></a><br/></td></tr>
<tr class="memitem:a0c9843fd710ee61f42ee720d49d3a7ef"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a0c9843fd710ee61f42ee720d49d3a7ef">BBstaticSize_d</a></td></tr>
<tr class="memdesc:a0c9843fd710ee61f42ee720d49d3a7ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all the sizes of the bounding boxes of the static objects, used on the GPU.  <a href="#a0c9843fd710ee61f42ee720d49d3a7ef"></a><br/></td></tr>
<tr class="memitem:a7edc8a270c9d5f9023c46ef5f546b0e8"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a7edc8a270c9d5f9023c46ef5f546b0e8">BBdinamicSize_d</a></td></tr>
<tr class="memdesc:a7edc8a270c9d5f9023c46ef5f546b0e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all the sizes of the bounding boxes of the connected clients used on the GPU.  <a href="#a7edc8a270c9d5f9023c46ef5f546b0e8"></a><br/></td></tr>
<tr class="memitem:a1181ffc87459b785da47c2fe9edb37a7"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a1181ffc87459b785da47c2fe9edb37a7">BBstaticCenter</a></td></tr>
<tr class="memdesc:a1181ffc87459b785da47c2fe9edb37a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all the centers of the bounding boxes of the static objects, used on the CPU.  <a href="#a1181ffc87459b785da47c2fe9edb37a7"></a><br/></td></tr>
<tr class="memitem:abd8c50d9db4c2af05f6148eed80dea4e"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#abd8c50d9db4c2af05f6148eed80dea4e">BBdinamicCenter</a></td></tr>
<tr class="memdesc:abd8c50d9db4c2af05f6148eed80dea4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all the centers of the bounding boxes of the connected clients, used on the CPU.  <a href="#abd8c50d9db4c2af05f6148eed80dea4e"></a><br/></td></tr>
<tr class="memitem:a37134ad6afc4ce260e7136a691c9b5a4"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a37134ad6afc4ce260e7136a691c9b5a4">BBstatic</a> = NULL</td></tr>
<tr class="memdesc:a37134ad6afc4ce260e7136a691c9b5a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of the positions of the bounding boxes of the static objects.  <a href="#a37134ad6afc4ce260e7136a691c9b5a4"></a><br/></td></tr>
<tr class="memitem:a6a2c8a3a5b04806108424c57b3015f19"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a6a2c8a3a5b04806108424c57b3015f19">BBdinamic</a></td></tr>
<tr class="memdesc:a6a2c8a3a5b04806108424c57b3015f19"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of the positions of the bounding boxes of the connected clients.  <a href="#a6a2c8a3a5b04806108424c57b3015f19"></a><br/></td></tr>
<tr class="memitem:aa52447b5b1ed75e258fd4edc43ac9eb6"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#aa52447b5b1ed75e258fd4edc43ac9eb6">BBstaticSize</a></td></tr>
<tr class="memdesc:aa52447b5b1ed75e258fd4edc43ac9eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all the sizes of the bounding boxes of the static objects, used on the CPU.  <a href="#aa52447b5b1ed75e258fd4edc43ac9eb6"></a><br/></td></tr>
<tr class="memitem:ac9888e7d334854dd9dce539d44262030"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ac9888e7d334854dd9dce539d44262030">BBdinamicSize</a></td></tr>
<tr class="memdesc:ac9888e7d334854dd9dce539d44262030"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all the sizes of the bounding boxes of the connected clients used on the CPU.  <a href="#ac9888e7d334854dd9dce539d44262030"></a><br/></td></tr>
<tr class="memitem:a1872c12179c925ea716eb57fe43c70b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a1872c12179c925ea716eb57fe43c70b7">nrBBstatic</a> = 0</td></tr>
<tr class="memdesc:a1872c12179c925ea716eb57fe43c70b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of the static objects.  <a href="#a1872c12179c925ea716eb57fe43c70b7"></a><br/></td></tr>
<tr class="memitem:a208769c154419d34bd0c2c35339d275f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a208769c154419d34bd0c2c35339d275f">nrBBdinamic</a> = 0</td></tr>
<tr class="memdesc:a208769c154419d34bd0c2c35339d275f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of all the connected clients.  <a href="#a208769c154419d34bd0c2c35339d275f"></a><br/></td></tr>
<tr class="memitem:a0e1868fcf468a350ee685f2aee3cd0d9"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a0e1868fcf468a350ee685f2aee3cd0d9">okStatic_d</a></td></tr>
<tr class="memdesc:a0e1868fcf468a350ee685f2aee3cd0d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records if a there was a hit with the static objecs,used on GPU.  <a href="#a0e1868fcf468a350ee685f2aee3cd0d9"></a><br/></td></tr>
<tr class="memitem:a15cb7b98f2904ce6570c152690cf6dd6"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a15cb7b98f2904ce6570c152690cf6dd6">okDinamic_d</a></td></tr>
<tr class="memdesc:a15cb7b98f2904ce6570c152690cf6dd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records if a there was a hit with the connected clients,used on GPU.  <a href="#a15cb7b98f2904ce6570c152690cf6dd6"></a><br/></td></tr>
<tr class="memitem:a805c179b07b5a66a9bd5665c8e09415a"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a805c179b07b5a66a9bd5665c8e09415a">okStatic</a></td></tr>
<tr class="memdesc:a805c179b07b5a66a9bd5665c8e09415a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records if a there was a hit with the static objecs,used on CPU.  <a href="#a805c179b07b5a66a9bd5665c8e09415a"></a><br/></td></tr>
<tr class="memitem:abab82ed8335782f87e260a501204e307"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#abab82ed8335782f87e260a501204e307">okDinamic</a></td></tr>
<tr class="memdesc:abab82ed8335782f87e260a501204e307"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records if a there was a hit with the connected clients,used on CPU.  <a href="#abab82ed8335782f87e260a501204e307"></a><br/></td></tr>
<tr class="memitem:abb33556650e8660ef9f37c08525ea2b0"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#abb33556650e8660ef9f37c08525ea2b0">timer</a> = 0</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>iocp-based server modified. Uses IoCompletionPorts to wait for multiple operations. </p>
</div><h2>Macro Definition Documentation</h2>
<a class="anchor" id="a996f7be338ccb40d1a2a5abc1ad61759"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ABS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(x &lt; 0 ? -x : x)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the absolute value of a number. </p>

</div>
</div>
<a class="anchor" id="a72a591cf0a96cf23c63df5c78712dabe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFSIZ&#160;&#160;&#160;8192</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the recv/send buffer of the connection handler. </p>

</div>
</div>
<a class="anchor" id="ade9c2ba0795827c01f8bcb1fddbba4e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECODED_SIZE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the recv/send buffer of the decoded message. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="main_8cpp.html#af22ae12a25a7d9096508051b1af36150" title="Function that decodes the information recceived and encodes the information after processing it...">decodeEncodeInfo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a82ca26b9acdfaef98e1329d8f1b311ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECHO_LISTEN_PORT&#160;&#160;&#160;42425</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The port the server is listening on. </p>

</div>
</div>
<a class="anchor" id="abb702d8b501669a23aa0ab3b281b9384"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define min</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(x &lt; y ? x : y)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the minimum between two numbers. </p>

</div>
</div>
<h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a48b066beacee87f6c0800742e3353379"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="main_8cpp.html#a48b066beacee87f6c0800742e3353379">connection_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a48b066beacee87f6c0800742e3353379a9c21494c993ba18f08f6fb1d54f820ee"></a>STATE_DATA_RECEIVED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a48b066beacee87f6c0800742e3353379aea80e1608cd2860ec6cbe492c3abcd80"></a>STATE_DATA_SENT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a48b066beacee87f6c0800742e3353379a45bbc7eaa280da404e1a6aa07a96f8f8"></a>STATE_CONNECTION_CLOSED</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="a329e62d44ff000cb77e74269b69015ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float* CalculateCenter </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>BBArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrBB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function that calculates the centers of the bounding boxes . The bounding boxes can be either clients or static objects </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">BBArray</td><td>The bounding boxes given as coordinates </td></tr>
    <tr><td class="paramname">nrBB</td><td>Number of bounding boxes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array containing the sizes of the bounding boxes </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="main_8cpp.html#a37134ad6afc4ce260e7136a691c9b5a4" title="List of the positions of the bounding boxes of the static objects.">BBstatic</a>,<a class="el" href="main_8cpp.html#a6a2c8a3a5b04806108424c57b3015f19" title="List of the positions of the bounding boxes of the connected clients.">BBdinamic</a>,<a class="el" href="main_8cpp.html#a1872c12179c925ea716eb57fe43c70b7" title="Number of the static objects.">nrBBstatic</a>,<a class="el" href="main_8cpp.html#a208769c154419d34bd0c2c35339d275f" title="Number of all the connected clients.">nrBBdinamic</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#a1181ffc87459b785da47c2fe9edb37a7" title="List of all the centers of the bounding boxes of the static objects, used on the CPU.">BBstaticCenter</a>,<a class="el" href="main_8cpp.html#abd8c50d9db4c2af05f6148eed80dea4e" title="List of all the centers of the bounding boxes of the connected clients, used on the CPU...">BBdinamicCenter</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a40a6cc84768e58928af7df1d609326c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float* CalculateSize </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>BBArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrBB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function that calculates the sizes of the bounding boxes . The bounding boxes can be either clients or static objects </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">BBArray</td><td>The bounding boxes given as coordinates </td></tr>
    <tr><td class="paramname">nrBB</td><td>Number of bounding boxes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array containing the sizes of the bounding boxes </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="main_8cpp.html#a37134ad6afc4ce260e7136a691c9b5a4" title="List of the positions of the bounding boxes of the static objects.">BBstatic</a>,<a class="el" href="main_8cpp.html#a6a2c8a3a5b04806108424c57b3015f19" title="List of the positions of the bounding boxes of the connected clients.">BBdinamic</a>,<a class="el" href="main_8cpp.html#a1872c12179c925ea716eb57fe43c70b7" title="Number of the static objects.">nrBBstatic</a>,<a class="el" href="main_8cpp.html#a208769c154419d34bd0c2c35339d275f" title="Number of all the connected clients.">nrBBdinamic</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#aa52447b5b1ed75e258fd4edc43ac9eb6" title="List of all the sizes of the bounding boxes of the static objects, used on the CPU.">BBstaticSize</a>,<a class="el" href="main_8cpp.html#ac9888e7d334854dd9dce539d44262030" title="List of all the sizes of the bounding boxes of the connected clients used on the CPU.">BBdinamicSize</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3b360c7adecc62da0141b3c82e753c77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void checkCUDAError </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Verifica daca exista eroare CUDA </p>

</div>
</div>
<a class="anchor" id="a4b66d5e31b5dc18b314c8a68163263bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function that frees the memory used for GPU computation </p>

</div>
</div>
<a class="anchor" id="aa41280d998bca1f94440c99ab8acb17e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void connection_complete_socket_receive </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structconnection.html">connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WSAOVERLAPPED *&#160;</td>
          <td class="paramname"><em>ovp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Overllaped I/O receive operation completed (as signaled by I/O Completion Port). Send message back after processing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection handler </td></tr>
    <tr><td class="paramname">ovp</td><td>Overllaped I/O info </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structconnection.html">connection</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#ac981b82a6e1b4f060a2decb07d1c17ef">connection_prepare_socket_send()</a>,<a class="el" href="main_8cpp.html#ada022cad04c196f32bcb9be8d90217fc">connection_schedule_socket_send()</a> </dd></dl>
<p>Now prepare for sending</p>
<p>And send </p>

</div>
</div>
<a class="anchor" id="a780ca7d842caa74781b6d2b3fa2e2be6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void connection_complete_socket_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structconnection.html">connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WSAOVERLAPPED *&#160;</td>
          <td class="paramname"><em>ovp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Overllaped I/O send operation completed (as signaled by I/O Completion Port). After completion start receiving again </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection handler </td></tr>
    <tr><td class="paramname">ovp</td><td>Overllaped I/O info </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structconnection.html">connection</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#a4f1e39342c8d79bc1751ba7880febd34">connection_schedule_socket_receive()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac5c60521639732ce9e1364857524e8ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structconnection.html">connection</a>* connection_create </td>
          <td>(</td>
          <td class="paramtype">SOCKET&#160;</td>
          <td class="paramname"><em>sockfd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize connection structure on given socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockfd</td><td>The given socket </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A "connection" handler bound to that socket </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structconnection.html">connection</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a02a4837b4efd1cddbea3a45bc45c221c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structconnection.html">connection</a>* connection_create_with_socket </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a non bound socket to the connection. The socket is to be bound by AcceptEx. </p>
<dl class="section return"><dt>Returns</dt><dd>A boundless "connection" handler </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structconnection.html">connection</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#aaad45eb6d41654c86627f93872861529">create_iocp_accept()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac981b82a6e1b4f060a2decb07d1c17ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void connection_prepare_socket_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structconnection.html">connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepare data for overlapped I/O send operation. Decode th information received and encode the response after processing </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>A connection handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structconnection.html">connection</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#af22ae12a25a7d9096508051b1af36150" title="Function that decodes the information recceived and encodes the information after processing it...">decodeEncodeInfo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a470834860aeabd94b2b0564cd9755173"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void connection_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structconnection.html">connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove connection handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4f1e39342c8d79bc1751ba7880febd34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void connection_schedule_socket_receive </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structconnection.html">connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Use WSARecv to asynchronously receive message from socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structconnection.html">connection</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ada022cad04c196f32bcb9be8d90217fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void connection_schedule_socket_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structconnection.html">connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Use WSASend to asynchronously send message through socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structconnection.html">connection</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aaad45eb6d41654c86627f93872861529"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void create_iocp_accept </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedule overlapped operation for accepting a new connection. </p>

</div>
</div>
<a class="anchor" id="a567b243836738c467bfb69ff3fdd92da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CudaWork </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xFuture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>yFuture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>zFuture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function that is responsible with performing computation in order to see if a collision has been detected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Id</td><td>The client id </td></tr>
    <tr><td class="paramname">xFuture</td><td>The position at which the client wants to move on the X axis </td></tr>
    <tr><td class="paramname">yFuture</td><td>The position at which the client wants to move on the Y axis </td></tr>
    <tr><td class="paramname">zFuture</td><td>The position at which the client wants to move on the Z axis </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>It return 1 if the client has hit something, 0 otherwise </dd></dl>
<p>Initialize CUDA</p>
<p>Initialize our data from files</p>
<p>Check collision with static objects</p>
<p>Check collision with other clients</p>
<p>If a collision has found modify the return value accordingly to that</p>
<p>Do some cleaning </p>

</div>
</div>
<a class="anchor" id="af22ae12a25a7d9096508051b1af36150"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * decodeEncodeInfo </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>info</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that decodes the information recceived and encodes the information after processing it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>The information received </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The information after processing it </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="main_8cpp.html#ac5e3f03d10ccfd50ba83bdef0e915f0c">WriteAtPoz()</a>,<a class="el" href="main_8cpp.html#a567b243836738c467bfb69ff3fdd92da">CudaWork()</a> </dd></dl>
<p>We decode the information received</p>
<p>If we have a new client then We need to write its position to the "dinamic_bounding_box.bb" file</p>
<p>After decoding "decoded" contains ID,type,client bounding box</p>
<p>Start processing the information -CudaWork-</p>
<p>After processing the information we need to update -if necessary- our client position from the file</p>
<p>Now we have to encode the ID , current client position and all the other clients that are still connected </p>

</div>
</div>
<a class="anchor" id="aaf7ed54b73ab24beab87c4d831594b52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_aio </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structconnection.html">connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OVERLAPPED *&#160;</td>
          <td class="paramname"><em>ovp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process overlapped I/O operation: data has been received from or has been sent to the socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection handler </td></tr>
    <tr><td class="paramname">bytes</td><td></td></tr>
    <tr><td class="paramname">ovp</td><td>Overllaped I/O info </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="main_8cpp.html#a780ca7d842caa74781b6d2b3fa2e2be6">connection_complete_socket_send()</a>,<a class="el" href="main_8cpp.html#aa41280d998bca1f94440c99ab8acb17e">connection_complete_socket_receive()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa03b0fb0603fb5e723daf9576eaa56a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_new_connection </td>
          <td>(</td>
          <td class="paramtype">OVERLAPPED *&#160;</td>
          <td class="paramname"><em>ovp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle a new connection request on the server socket. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="main_8cpp.html#ac5c60521639732ce9e1364857524e8ad">connection_create()</a>,<a class="el" href="main_8cpp.html#a4f1e39342c8d79bc1751ba7880febd34">connection_schedule_socket_receive()</a>,<a class="el" href="main_8cpp.html#aaad45eb6d41654c86627f93872861529">create_iocp_accept()</a> </dd></dl>
<p>Instantiate new connection handler.</p>
<p>Add socket to IoCompletionPort.</p>
<p>Schedule receive operation.</p>
<p>Use AcceptEx to schedule new connection acceptance. </p>

</div>
</div>
<a class="anchor" id="a2cc9264099199398a5082a686b1a8437"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filenameStatic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filenameDinamic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function that initiates all the data it requires from the files containing both the static objects and the connected clients. It also allocates all the memory it needs for performing calculus on tthe GPU. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filenameStatic</td><td>The file where the bounding boxes of the static objects are </td></tr>
    <tr><td class="paramname">filenameDinamic</td><td>The file where the bounding boxes of the connected clients are </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="main_8cpp.html#a37134ad6afc4ce260e7136a691c9b5a4" title="List of the positions of the bounding boxes of the static objects.">BBstatic</a>, <a class="el" href="main_8cpp.html#a6a2c8a3a5b04806108424c57b3015f19" title="List of the positions of the bounding boxes of the connected clients.">BBdinamic</a>, <a class="el" href="main_8cpp.html#a1872c12179c925ea716eb57fe43c70b7" title="Number of the static objects.">nrBBstatic</a>, <a class="el" href="main_8cpp.html#a208769c154419d34bd0c2c35339d275f" title="Number of all the connected clients.">nrBBdinamic</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#a1181ffc87459b785da47c2fe9edb37a7" title="List of all the centers of the bounding boxes of the static objects, used on the CPU.">BBstaticCenter</a>, <a class="el" href="main_8cpp.html#abd8c50d9db4c2af05f6148eed80dea4e" title="List of all the centers of the bounding boxes of the connected clients, used on the CPU...">BBdinamicCenter</a>, <a class="el" href="main_8cpp.html#aa52447b5b1ed75e258fd4edc43ac9eb6" title="List of all the sizes of the bounding boxes of the static objects, used on the CPU.">BBstaticSize</a>, <a class="el" href="main_8cpp.html#ac9888e7d334854dd9dce539d44262030" title="List of all the sizes of the bounding boxes of the connected clients used on the CPU.">BBdinamicSize</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a69f93d343959337ec8c2c78f61fe309f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool initCUDA </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize CUDA </p>

</div>
</div>
<a class="anchor" id="ad50886c59a9e27fe46a2a6e694e91877"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cudaError_t launch_CubeDinamic </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>BBdinamicCenter_d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrBBdinamic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>BBdinamicSize_d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>xFuture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>yFuture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>zFuture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>okDinamic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dim3&#160;</td>
          <td class="paramname"><em>DIM_GRID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dim3&#160;</td>
          <td class="paramname"><em>DIM_BLOCK</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Functia de lansare a kernelului CUDA Performs collision tests between the connected client and all the other clients in the scene Each GPU thread tests a collision with only one client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">BBdinamicCenter_d</td><td>A list with all the centers of the connected clients </td></tr>
    <tr><td class="paramname">nrBBdinamic</td><td>Number of the connected clients </td></tr>
    <tr><td class="paramname">BBdinamicSize_d</td><td>List of all the sizes of the bounding boxes of the connected clients </td></tr>
    <tr><td class="paramname">xFuture</td><td>x coordinate of the new position </td></tr>
    <tr><td class="paramname">yFuture</td><td>y coordinate of the new position </td></tr>
    <tr><td class="paramname">zFuture</td><td>z coordinate of the new position </td></tr>
    <tr><td class="paramname">ID</td><td>The client id </td></tr>
    <tr><td class="paramname">okDinamic</td><td>The recorded/or not hit </td></tr>
    <tr><td class="paramname">DIM_GRID</td><td>Has a value of (1,1,1) </td></tr>
    <tr><td class="paramname">DIM_BLOCK</td><td>Has a value of (nrBBdinamic,1,1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="main_8cpp.html#af3414c28824530297cd259fd61e0ac4a" title="List of all the centers of the bounding boxes of the connected clients, used on the GPU...">BBdinamicCenter_d</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#a208769c154419d34bd0c2c35339d275f" title="Number of all the connected clients.">nrBBdinamic</a> , <a class="el" href="main_8cpp.html#a7edc8a270c9d5f9023c46ef5f546b0e8" title="List of all the sizes of the bounding boxes of the connected clients used on the GPU.">BBdinamicSize_d</a>,<a class="el" href="main_8cpp.html#abab82ed8335782f87e260a501204e307" title="Records if a there was a hit with the connected clients,used on CPU.">okDinamic</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a13cf771088e21c9a3e8a3766788165c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cudaError_t launch_CubeStatic </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>BBstaticCenter_d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrBBstatic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>BBstaticSize_d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>xFuture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>yFuture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>zFuture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>size1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>size2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>okStatic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dim3&#160;</td>
          <td class="paramname"><em>DIM_GRID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dim3&#160;</td>
          <td class="paramname"><em>DIM_BLOCK</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Functia de lansare a kernelului CUDA Performs collision tests between the connected client and all the static objects in the scene Each GPU thread tests a collision with only one static object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">BBstaticCenter_d</td><td>A list with all the centers of the static objects </td></tr>
    <tr><td class="paramname">nrBBstatic</td><td>Number of the static objects </td></tr>
    <tr><td class="paramname">BBstaticSize_d</td><td>List of all the sizes of the bounding boxes of the static objects </td></tr>
    <tr><td class="paramname">xFuture</td><td>x coordinate of the new position </td></tr>
    <tr><td class="paramname">yFuture</td><td>y coordinate of the new position </td></tr>
    <tr><td class="paramname">zFuture</td><td>z coordinate of the new position </td></tr>
    <tr><td class="paramname">size1</td><td>The size of the bounding box of the client on the x dimension </td></tr>
    <tr><td class="paramname">size2</td><td>The size of the bounding box of the client on the z dimension </td></tr>
    <tr><td class="paramname">okStatic</td><td>The recorded/or not hit </td></tr>
    <tr><td class="paramname">DIM_GRID</td><td>Has a value of (1,1,1) </td></tr>
    <tr><td class="paramname">DIM_BLOCK</td><td>Has a value of (nrBBstatic,1,1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="main_8cpp.html#a27787ddb39def3234fa0e613160c5314" title="List of all the centers of the bounding boxes of the static objects, used on the GPU.">BBstaticCenter_d</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#a1872c12179c925ea716eb57fe43c70b7" title="Number of the static objects.">nrBBstatic</a> , <a class="el" href="main_8cpp.html#a0c9843fd710ee61f42ee720d49d3a7ef" title="List of all the sizes of the bounding boxes of the static objects, used on the GPU.">BBstaticSize_d</a>,<a class="el" href="main_8cpp.html#a805c179b07b5a66a9bd5665c8e09415a" title="Records if a there was a hit with the static objecs,used on CPU.">okStatic</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The main function. </p>
<p>Create server socket.</p>
<p>Use AcceptEx to schedule new connection acceptance.</p>
<p>Server main loop</p>
<p>Wait for overlapped I/O.</p>
<p>Switch I/O notification types. Consider</p>
<ul>
<li>new connection requests (on server socket);</li>
<li>socket communication (on connection sockets).</li>
</ul>

</div>
</div>
<a class="anchor" id="acf18d858e34f4b033c12823cf5f2f88a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printHeader </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Afisare text </p>

</div>
</div>
<a class="anchor" id="ab4f672e20f7c10144c337ad3fc5c55a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float* ReadBoundingBox </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrBB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function that reads the bounding boxes of static objects or connected clietns from the specified file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The file from where the reading is performed </td></tr>
    <tr><td class="paramname">nrBB</td><td>The number of either static objects or connected clients </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The bounding boxes of either static objects or connected clients. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>nrBBStatic,<a class="el" href="main_8cpp.html#a208769c154419d34bd0c2c35339d275f" title="Number of all the connected clients.">nrBBdinamic</a> </dd>
<dd>
<a class="el" href="main_8cpp.html#a6a2c8a3a5b04806108424c57b3015f19" title="List of the positions of the bounding boxes of the connected clients.">BBdinamic</a>,<a class="el" href="main_8cpp.html#a37134ad6afc4ce260e7136a691c9b5a4" title="List of the positions of the bounding boxes of the static objects.">BBstatic</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2264a6e84745b4d0fee8144dd2b4e2b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ReadNrBB </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function that reads the number of static objects or connected clietns from the specified file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The file from where the reading is performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of either static objects or connected clients. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>nrBBStatic,<a class="el" href="main_8cpp.html#a208769c154419d34bd0c2c35339d275f" title="Number of all the connected clients.">nrBBdinamic</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac5e3f03d10ccfd50ba83bdef0e915f0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteAtPoz </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>poz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function that writes at the specified position in a file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The file where the information will be written </td></tr>
    <tr><td class="paramname">poz</td><td>The offset at which we write the information </td></tr>
    <tr><td class="paramname">type</td><td>The starting position - Can only be : FILE_BEGIN,FILE_END,FILE_CURRENT </td></tr>
    <tr><td class="paramname">buffer</td><td>The information to be added to the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>The file must exist beforehand for this to be successful </dd></dl>

</div>
</div>
<h2>Variable Documentation</h2>
<a class="anchor" id="aa56ff3efbd9b9f100c1e98fd393981ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   ac</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Anonymous structure used to "confine" data regardin asynchronous accept operations (handled through AcceptEx and Io Completion Ports). </p>

</div>
</div>
<a class="anchor" id="a6a2c8a3a5b04806108424c57b3015f19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBdinamic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of the positions of the bounding boxes of the connected clients. </p>

</div>
</div>
<a class="anchor" id="abd8c50d9db4c2af05f6148eed80dea4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBdinamicCenter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of all the centers of the bounding boxes of the connected clients, used on the CPU. </p>

</div>
</div>
<a class="anchor" id="af3414c28824530297cd259fd61e0ac4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBdinamicCenter_d</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of all the centers of the bounding boxes of the connected clients, used on the GPU. </p>

</div>
</div>
<a class="anchor" id="ac9888e7d334854dd9dce539d44262030"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBdinamicSize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of all the sizes of the bounding boxes of the connected clients used on the CPU. </p>

</div>
</div>
<a class="anchor" id="a7edc8a270c9d5f9023c46ef5f546b0e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBdinamicSize_d</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of all the sizes of the bounding boxes of the connected clients used on the GPU. </p>

</div>
</div>
<a class="anchor" id="a37134ad6afc4ce260e7136a691c9b5a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBstatic = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of the positions of the bounding boxes of the static objects. </p>

</div>
</div>
<a class="anchor" id="a1181ffc87459b785da47c2fe9edb37a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBstaticCenter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of all the centers of the bounding boxes of the static objects, used on the CPU. </p>

</div>
</div>
<a class="anchor" id="a27787ddb39def3234fa0e613160c5314"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBstaticCenter_d</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of all the centers of the bounding boxes of the static objects, used on the GPU. </p>

</div>
</div>
<a class="anchor" id="aa52447b5b1ed75e258fd4edc43ac9eb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBstaticSize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of all the sizes of the bounding boxes of the static objects, used on the CPU. </p>

</div>
</div>
<a class="anchor" id="a0c9843fd710ee61f42ee720d49d3a7ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BBstaticSize_d</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of all the sizes of the bounding boxes of the static objects, used on the GPU. </p>

</div>
</div>
<a class="anchor" id="a57875f7dc50e8d10d66a9dee808b1f25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char buffer[<a class="el" href="main_8cpp.html#a72a591cf0a96cf23c63df5c78712dabe">BUFSIZ</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af180e926633cde08a05ccbc3af397ee4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ID = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>client ID - Initially -1 </p>

</div>
</div>
<a class="anchor" id="ab2627569a104169037eeca872d9e2588"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HANDLE iocp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>IoCompletionPort handle. </p>

</div>
</div>
<a class="anchor" id="a6912002753b0f3e17bdedf65b10a7489"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DWORD len</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad93cc257a935a42573e78abc54ee887b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SOCKET listenfd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>server socket file handle </p>

</div>
</div>
<a class="anchor" id="a2478165b3bf2fb0d7f5eacf8bef3965a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int maxId = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of connected clients. </p>

</div>
</div>
<a class="anchor" id="a208769c154419d34bd0c2c35339d275f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nrBBdinamic = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of all the connected clients. </p>

</div>
</div>
<a class="anchor" id="a1872c12179c925ea716eb57fe43c70b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nrBBstatic = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of the static objects. </p>

</div>
</div>
<a class="anchor" id="abab82ed8335782f87e260a501204e307"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int * okDinamic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records if a there was a hit with the connected clients,used on CPU. </p>

</div>
</div>
<a class="anchor" id="a15cb7b98f2904ce6570c152690cf6dd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int * okDinamic_d</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records if a there was a hit with the connected clients,used on GPU. </p>

</div>
</div>
<a class="anchor" id="a805c179b07b5a66a9bd5665c8e09415a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int * okStatic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records if a there was a hit with the static objecs,used on CPU. </p>

</div>
</div>
<a class="anchor" id="a0e1868fcf468a350ee685f2aee3cd0d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int * okStatic_d</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records if a there was a hit with the static objecs,used on GPU. </p>

</div>
</div>
<a class="anchor" id="aaac82c9b2536dbcb6e6fd9e26cb552b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OVERLAPPED ov</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afc0d59c4f3d986132cc42a83b0e897d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SOCKET sockfd</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abb33556650e8660ef9f37c08525ea2b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int timer = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6ad57ac048da75eecbd760ac00b8b427"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TYPE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of movement : 0 - walk ,1 - teleport. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 10 2012 09:12:59 for Server by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
